<!DOCTYPE html>
<html lang="<%= lang %>">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= __('Contact') %> - EcoGuard</title>

    <link rel="stylesheet" href="/style/front/contact.css"> 
    <link rel="icon" href="https://placehold.co/32x32/3498db/ffffff?text=EG" type="image/x-icon">
</head>
<body>
    <%- include('../partials/header') %>

    <main class="contact-page-main">
        <div class="contact-container-wrapper">
            <h2><%= __('Contact Us') %></h2>

            <% if (typeof message !== "undefined" && message && message.text) { %>
                <% if (message.type === "success") { %>
                    <div class="success-message">
                        <p><%= __(message.text) %></p>
                    </div>
                <% } else if (message.type === "error") { %>
                    <div class="error-message-contact">
                        <p><%= __(message.text) %></p>
                    </div>
                <% } %>
            <% } %>

            <form id="contact-form" action="/contact" method="POST">
                <div class="form-group">
                    <label for="email"><%= __('Your Email:') %></label>
                    <input type="email" id="email" name="email" 
                           value="<%= (typeof user !== 'undefined' && user && user.email) ? user.email : '' %>" 
                           required <%= (typeof user !== 'undefined' && user) ? "readonly" : "" %>>
                </div>
                
                <div class="form-group">
                    <label for="message"><%= __('Your Message:') %></label>
                    <textarea id="message" name="message" rows="5" maxlength="600" required 
                              placeholder="<%= __('Enter your message here...') %>"></textarea>
                    <p id="char-count">0 / 600</p>
                </div>
            
                <button type="submit"><%= __('Send Message') %></button>
            </form>
        </div>
    </main>

    <%- include('../partials/footer') %>

    <script src="/js/front/contact.js" defer></script>
    <script src="/js/partials/footer.js" defer></script>
</body>
</html>